@startuml
'https://plantuml.com/sequence-diagram
left to right direction

' =================== Customer ===================
' role - ผู้ที่เข้ามาเพื่อซื้อสินค้าภายในบริษัท
' duty - ทำให้เกิดการซื้อขายสินค้า
actor Customer as actorCustomer
note right of actorCustomer : ลูกค้าผู้ที่เข้ามาซื้อสินค้าภายในบริษัท
' =================== Manager ===================
' role - เจ้าหน้าที่ ที่จัดการสินค้า ให้คงคลังสินค้าอยู่เสมอ
' duty - บริหารจัดการ stock สินค้า ทั้งการจำหน่ายออก และการรับสินค้ารวมถึงการ
' ออกใบสั่งของ การเช็คสินค้าและการทำรายงานต่างๆ
actor Manager as actorManager
note left of actorManager : เจ้าหน้าที่ ที่จัดการสินค้า
' =================== Supplier ===================
' role - เป็นบริษัทคู่ค้าที่จำหน่ายสินค้าหรือวัตถุดิบให้กับบริษัท
' duty - ขายและจัดส่งสินค้าตามใบสั่งของ
actor Supplier as actorSupplier
note left of actorSupplier : เป็นบริษัทคู่ค้าที่จำหน่ายสินค้า
' =================== Financial ===================
' role - เป็นฝ่ายดูแลบัญชีและการเงินของบริษัท
' duty - รับข้อมูลการซื้อและขายสินค้า
actor Financial as actorFinancial
note left of actorFinancial : เป็นฝ่ายดูแลบัญชี

' =================== Stock System ===================
rectangle "Stock system" as stockSystem {

' ================ Selling ================
    ' กระบวนการขายสินค้า
    usecase (Sell) as (usecaseSell)
'    การขายสินค้า
    usecase (Sell product) as (usecaseSellProduct)
'    การตรวจสอบยอดสินค้า

'    ตัดยอดสอนค้า
    usecase (Cut off product) as (usecaseCutOffProduct)
'    ออกใบเสร็จ
    usecase (Receipt) as (usecaseReceipt)

' ================ Ordering ================
'    การสั่งซื้อสินค้า
    usecase (Order) as (usecaseOrder)
'    การลงรับสินค้า
    usecase (Pick up Products) as (usecasePickUpProduct)
'    ปรับปรุงยอดสินค้า


' ================ Product ================
'    การสั่งซื้อสินค้า
    usecase (View product detail) as (usecaseProductDetail)
    usecase (Add product detail) as (usecaseAddProductDetail)
    usecase (update product detail) as (usecaseUpdateProductDetail)
    usecase (Delete product detail) as (usecaseDeleteProductDetail)

    usecase (Check stock) as (usecaseCheckStock)
    usecase (Update stock) as (usecaseUpdateStock)

        (usecaseProductDetail) <.. (usecaseAddProductDetail)  : <<extends>>
       (usecaseUpdateProductDetail) ..> (usecaseProductDetail) : <<extends>>
        (usecaseProductDetail) <.. (usecaseDeleteProductDetail)  : <<extends>>

' ================ Reporting ================
'   การทำรายงาน
    usecase (Sell Report) as (usecaseSellReport)

' ================ Invoice ================
'   คลัง
    usecase (Invoice) as (usecaseInvoice)
    usecase (Create Invoice) as (usecaseCreateInvoice)
    usecase (Print Invoice) as (usecasePrintInvoice)



'    ===================== Associate Flow =====================

'    ================ actor - usecase Flow ================
'   ความสัมพันธ์ระหว่าง actor และ usecase ในส่วนของการขาย
    actorManager -- (usecaseSell)

'  ===  ความสัมพันธ์ระหว่าง actor และ usecase ในส่วนของการสั่งซื้อสินค้า ===
    actorManager -left- (usecaseOrder)
    (usecaseOrder) -- actorCustomer

'  ===  ความสัมพันธ์ระหว่าง actor และ usecase ในส่วนของการสออกรายงาน ===
    actorManager --- (usecaseSellReport)
    actorFinancial --- (usecaseSellReport)

    actorManager -- (usecaseCheckStock)

'    ================ usecase - usecase Flow ================

'    การขายสินค้า เป็นส่วนหนึ่งของกระบวนการขายสินค้า
    (usecaseSellProduct) ..> (usecaseSell) : <<extends>>
'    ตรวจสอบยอดสินค้า เป็นส่วนหนึ่งของกระบวนการขายสินค้า
    (usecaseCheckStock) <.right. (usecaseSell) : <<include>>
    '    การตัดยอดสินค้า เป็นส่วนหนึ่งของกระบวนการขายสินค้า
    (usecaseSell) <.. (usecaseCutOffProduct)  : <<uses>>

'   การออกใบเสร็จ เป็นส่วนหนึ่งของกระบวนการขายสินค้า
    (usecaseReceipt) .left.> (usecaseSell) : <<extends>>


'   การลงรับสินค้า เป็นส่วนหนึ่งของกระบวนการสั่งซื้อสินค้า
    (usecasePickUpProduct) ..> (usecaseOrder) : <<extends>>

'   การปรับปรุงยอดสินค้า เป็นส่วนหนึ่งของกระบวนการสั่งซื้อสินค้า
   (usecaseCheckStock) <.. (usecaseOrder) : <<include>>

' ================ Product ================
    (usecaseAddProduct) ..> (usecaseCheckStock) : <<extends>>
    (usecaseUpdateStock) ..> (usecaseCheckStock) : <<extends>>
    (usecaseCheckStock) <.. (usecaseDeleteProduct) : <<extends>>

 ' ================ Invoice ================
    (usecaseCreateInvoice) ..> (usecaseInvoice) : <<extends>>
    (usecaseInvoice)  <..   (usecasePrintInvoice): <<extends>>
 }

@enduml