@startuml
'example
title order sequence diagram

actor Customer as actorCustomer

actor Salesperson as actorSalesperson
participant "Inventory System" as InventorySystem
participant "Order" as classOrder
participant "Product" as classProduct
participant "Inventory" as classInventory
participant "Invoice" as classInvoice


actorCustomer -> actorSalesperson : 1. Request order product

actorSalesperson --> actorCustomer : 2. Receive order

actorSalesperson -> InventorySystem: 3. RequestCreateOrder
activate InventorySystem

'-------------- START create order ---------------
InventorySystem -> classProduct: 3.1 selectProduct
activate classProduct

classProduct -> classInventory: 3.2 checkStock
activate classInventory

classInventory -> classProduct: 3.3 return stock
deactivate classInventory

classProduct -> InventorySystem: 3.4 return product data
deactivate classProduct

alt orderData.qty > product.inventory.qty
classInventory --> InventorySystem : 3.5 can't create order
'deactivate InventorySystem
 destroy InventorySystem

else
InventorySystem -> classOrder: 3.6 createCategory(categoryData)

activate InventorySystem
activate classOrder

classOrder -> classInvoice : 3.7 system create invoice

activate classInvoice
classInvoice -> classInvoice : 3.8 print invoice
classInvoice --> InventorySystem: 3.9 return invoice

deactivate classInvoice
classOrder --> InventorySystem: 3.10 return order
deactivate classOrder

end


InventorySystem -> actorSalesperson: 4. Response create order status
deactivate InventorySystem

'----------------------------- optional ---------------------
opt
actorSalesperson -> InventorySystem: 5. Request Cancel order
activate InventorySystem

InventorySystem -> classOrder: 5.1 cancelOrder
activate classOrder

classOrder --> InventorySystem: 5.2 return cancel order status
deactivate classOrder

InventorySystem --> actorSalesperson: 6. Response cancel order status
deactivate InventorySystem

end


@enduml